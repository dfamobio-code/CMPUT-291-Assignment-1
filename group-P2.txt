CREATE TABLE Users (
  uid CHAR(12),
  name CHAR(20),
  email CHAR(25),
  city CHAR(20),
  timeZone CHAR(3),
  PRIMARY KEY (uid)

CREATE TABLE follows (
  uid1 CHAR(12),
  uid2 CHAR(12),
  started DATE,
  PRIMARY KEY (uid1, uid2),
  FOREIGN KEY (uid) REFERENCES Users)

CREATE TABLE Bot (
  uid CHAR(12),
  PRIMARY KEY (uid),
  FOREIGN KEY uid REFERENCES Users
  ON DELETE CASCADE)

CREATE TABLE owner (
  uid1 CHAR(12),
  uid2 CHAR(12)
  PRIMARY KEY (uid1, uid2),
  FOREIGN KEY (uid) REFERENCES Users)

CREATE TABLE Blue (
  uid CHAR(12),
  cardno INTEGER,
  PRIMARY KEY (uid),
  FOREIGN KEY (uid) REFERENCES Users)

CREATE TABLE Gray (
  uid CHAR(12),
  vdate DATE,
  PRIMARY KEY (uid),
  FOREIGN KEY (uid) REFERENCES Users)

CREATE TABLE affiliate (
  uid1 CHAR(12),
  uid2 CHAR(12)
  cdate DATE,
  PRIMARY KEY (uid1, uid2),
  FOREIGN KEY (uid) REFERENCES Users,
  FOREIGN KEY (vdate) REFERENCES Gray)

CREATE TABLE lists_created (
  name CHAR(20),
  uid CHAR(12) NOT NULL,
  PRIMARY KEY (name, uid),
  FOREIGN KEY (uid) REFERENCES Users 
  ON DELETE CASCADE)

CREATE TABLE includes (
  name CHAR(20),
  uid CHAR(12),
  PRIMARY KEY (name, uid),
  FOREIGN KEY (name) REFERENCES list_created,
  FOREIGN KEY (uid) REFERENCES Users)

CREATE TABLE tweets_written (
  tdate DATE,
  text TEXT,
  uid CHAR(12) NOT NULL,
  PRIMARY KEY (tdate, uid),
  FOREIGN KEY (uid) REFERENCES Users ON DELETE CASCADE)

CREATE TABLE RETWEETS (
  rdate DATE,
  uid CHAR(12),
  PRIMARY KEY (rdate, uid),
  FOREIGN KEY (uid) REFERENCES Users)
  FOREIGN KEY (tdate) REFERENCES tweets_written)

CREATE TABLE hashtags (
  term CHAR(25),
  PRIMARY KEY (term))
  
CREATE TABLE URLs (
  shortURL CHAR(20),
  longURL CHAR(30),
  PRIMARY KEY (shortURL))

CREATE TABLE mentionsH (
  term CHAR(25),
  tdate DATE,
  uid CHAR(12) NOT NULL,
  PRIMARY KEY (term, tdate, uid),
  FOREIGN KEY (term) REFERENCES hastags,
  FOREIGN KEY (tdate) REFERENCES tweets_written
  ON DELETE CASCADE)

CREATE TABLE mentionsU (
  shortURL CHAR(20),
  tdate DATE,
  uid CHAR(12) NOT NULL,
  PRIMARY KEY (shortURL, tdate, uid),
  FOREIGN KEY (shortURL) REFERENCES URLs,
  FOREIGN KEY (tdate) REFERENCES tweets_written
  ON DELETE CASCADE)

CREATE TABLE replto (
  reply_tdate DATE,
  original_tdate DATE,
  uid CHAR(12) NOT NULL,
  PRIMARY KEY (reply_tdate, original_tdate, uid),
  FOREIGN KEY (reply_tdate) REFERENCES tweets_written,
  FOREIGN KEY (original_tdate) REFERENCES tweets_written
  ON DELETE CASCADE)
